<mat-card class="loginForm">
  <mat-card-title>Login / register</mat-card-title>
  <mat-card-content>
    <form [formGroup]="form">
      <mat-form-field appearance="fill" *ngIf="!loginMode">
        <input matInput class="form-field fullWidth" placeholder="Username" formControlName="username" (change)="changeForm()">
        <mat-error>
          Username is required to register a new user
        </mat-error>
      </mat-form-field>
      <mat-form-field appearance="fill">
        <input matInput class="form-field fullWidth" type="email" placeholder="Email" formControlName="email" (change)="changeForm()">
        <mat-error>
          Email is required and it must have a valid email
        </mat-error>
      </mat-form-field>
      <mat-form-field appearance="fill">
        <input matInput class="form-field fullWidth" placeholder="password" formControlName="password" (change)="changeForm()">
        <mat-error>
          Password is required
        </mat-error>
      </mat-form-field>
      <mat-error *ngIf="errorLoginRegister">
        {{
        loginMode ? "Email and password doesn't match with a registered user" : "There has been an error with the registration (Maybe the email already exists)"
        }}
      </mat-error>
    </form>
  </mat-card-content>
  <mat-card-actions align="end">
    <button mat-button (click)="navigateToMainPage()">GO BACK</button>
    <button
      (click)="registerUser()"
      [color]="loginMode === false ? 'accent' : null"
      color="accent"
      [disabled]="!loginMode && loginRegisterDisabled"
      mat-button
      mat-raised-button
    >
      REGISTER
    </button>
    <button
      (click)="loginUser()"
      [color]="loginMode ? 'accent' : null"
      [disabled]="loginMode && loginRegisterDisabled"
      mat-button
      mat-raised-button
    >
      LOGIN
    </button>
  </mat-card-actions>
</mat-card>
